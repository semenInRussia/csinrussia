---
{"dg-publish":true,"permalink":"/prosto-zadachi/raskraska-polindromov/"}
---

–≠—Ç–æ –µ—â—ë –æ–¥–Ω–∞ #–∑–∞–¥–∞—á–∞ —Å [[–°–∞–π—Ç—ã/codeforces\|codeforces]], –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤, –Ω–æ –ø–æ –º–Ω–µ –æ–Ω–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º —è –æ–∂–∏–¥–∞–ª.  [\#1624d](https://codeforces.com/problemset/problem/1624/D)
# –£—Å–ª–æ–≤–∏–µ üçä
> –£ –≤–∞—Å –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ $s$, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑ —Å—Ç—Ä–æ—á–Ω—ã—Ö –±—É–∫–≤ –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞.
> 
> –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫—Ä–∞—Å–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±—É–∫–≤—ã –≤ —Ü–≤–µ—Ç–∞ –æ—Ç 1 –¥–æ $k$. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫—Ä–∞—Å–∏—Ç—å –≤—Å–µ –±—É–∫–≤—ã. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ü–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±—É–∫–≤–∞, –ø–æ–∫—Ä–∞—à–µ–Ω–Ω–∞—è –≤ —ç—Ç–æ—Ç —Ü–≤–µ—Ç.
> 
> –ó–∞—Ç–µ–º –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ä–∞–∑ –º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –ª—é–±—ã–µ –¥–≤–∞ —Å–∏–º–≤–æ–ª–∞, –ø–æ–∫—Ä–∞—à–µ–Ω–Ω—ã–µ –≤ –æ–¥–∏–Ω —Ü–≤–µ—Ç.
> 
> –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ $k$ —Å—Ç—Ä–æ–∫, $i$-—è –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å–∏–º–≤–æ–ª—ã, –ø–æ–∫—Ä–∞—à–µ–Ω–Ω—ã–µ –≤ —Ü–≤–µ—Ç $i$, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫–µ $s$.
> 
> –í–∞—à–∞ –∑–∞–¥–∞—á–∞ –ø–æ–∫—Ä–∞—Å–∏—Ç—å —Å–∏–º–≤–æ–ª—ã —Å—Ç—Ä–æ–∫–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ $k$ —Å—Ç—Ä–æ–∫ –±—ã–ª–∏ –ø–∞–ª–∏–Ω–¥—Ä–æ–º–∞–º–∏, –∞ –¥–ª–∏–Ω–∞ —Å–∞–º–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π –∏–∑ —ç—Ç–∏—Ö $k$. —Å—Ç—Ä–æ–∫ –±—ã–ª–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ.
> 
> –ü—Ä–æ—á—Ç–∏—Ç–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∫ –ø–µ—Ä–≤–æ–º—É –Ω–∞–±–æ—Ä—É –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞, –µ—Å–ª–∏ –≤–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∫ —É—Å–ª–æ–≤–∏—é –∑–∞–¥–∞—á–∏.
> 
> –ù–∞–ø–æ–º–Ω–∏–º, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–∞–ª–∏–Ω–¥—Ä–æ–º–æ–º, –µ—Å–ª–∏ –æ–Ω–∞ —á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∫–∞–∫ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, —Ç–∞–∫ –∏ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∏ abacaba, cccc, z –∏ dxd —è–≤–ª—è—é—Ç—Å—è –ø–∞–ª–∏–Ω–¥—Ä–æ–º–∞–º–∏, –∞ —Å—Ç—Ä–æ–∫–∏ abab –∏ aaabaa¬†‚Äî –Ω–µ—Ç.

# –•–æ–¥ –†–µ—à–µ–Ω–∏–π ü§Ø

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ª—é–±–æ–π –ø–∞–ª–∏–Ω–¥—Ä–æ–º —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –≤–∏–¥–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤:
1. —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å "–±—Ä–∞—Ç –±–ª–∏–∑–Ω–µ—Ü", —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –µ–≥–æ –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É
2. –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ, –µ–≥–æ –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–µ –Ω–∞–¥–æ, –≤–µ–¥—å –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ—á–∫—É, —Ç–æ –µ–≥–æ –ø–æ–∑–∏—Ü–∏—è –±—É–¥–µ—Ç —Ç–∞–∫–∞—è –∂–µ.  –¢–∞–∫–æ–π —Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –Ω–∞ —Å—Ç—Ä–æ—á–∫—É.

–ü–æ—ç—Ç–æ–º—É, –¥—É–º–∞—é –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–º –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å —á–∏—Å–ª–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞.  –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "–ø–∞—Ä–Ω—ã—Ö" (*—Ç–∏–ø 1*) —Å–∏–º–≤–æ–ª–æ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "–±–µ–∑–ø–∞—Ä–Ω—ã—Ö" (*—Ç–∏–ø 2*).

–¢–µ–ø–µ—Ä—å —è—Å–Ω–æ, —á—Ç–æ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ—á–∫–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å $\frac pk$ —Å–∏–º–≤–æ–ª–æ–≤, —É –∫–∞–∂–¥–æ–≥–æ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Å–≤–æ–π –±—Ä–∞—Ç –±–ª–∏–∑–Ω–µ—Ü.  –ò –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å, –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ (*—Ç–∏–ø 2*).  –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –±–æ–ª—å—à–µ —á–µ–º $k$, —Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ—á–∫–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª, –∏ –æ—Ç–≤–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ +1.

# –ö–æ–¥  üíª
```cpp
// Copyright 2024 semenInRussia

// cf:
// https://codeforces.com/problemset/problem/1624/D

#include <iostream>
using namespace std;

void solve() {
  int n, k;
  string s;
  cin >> n >> k >> s;

  int cnt[26];
  fill(cnt, cnt + 26, 0);
  for (auto ch : s)
    cnt[ch - 'a']++;

  int p = 0, extra = 0;
  for (auto c : cnt)
    extra += c % 2, p += c / 2;

  int pairs = 2 * (p / k);
  int can_middle = (2 * p - pairs * k) + extra >= k;
  cout << (pairs + can_middle) << '\n';
}

int main() {
  int t;
  cin >> t;
  while (t--)
    solve();
}
```