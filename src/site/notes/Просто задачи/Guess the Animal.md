---
{"dg-publish":true,"permalink":"/prosto-zadachi/guess-the-animal/"}
---

–≠—Ç–æ –µ—â—ë –æ–¥–Ω–∞ #–∑–∞–¥–∞—á–∞ —Å [[–°–∞–π—Ç—ã/usaco.guide\|usaco.guide]].  –≠—Ç–æ –∑–∞–¥–∞—á–∞ –∏–∑ –≥–ª–∞–≤—ã [*Complete Search*](https://usaco.guide/bronze/intro-complete), —Ö–æ—Ç—å —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ —è–≤–Ω–æ –Ω–µ–ª—å–∑—è –¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —è –±—ã –¥–∞–ª *–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è*, –ø–æ —Ç—Ä–∞–¥–∏—Ü–∏–∏ [[–ú–ò–†–≠–ê\|–ú–ò–†–≠–ê]], –Ω–æ *Complete Search* —ç—Ç–æ –Ω–µ —Å—é–¥–∞

https://usaco.org/index.php?page=viewproblem2&cpid=893

# –£—Å–ª–æ–≤–∏–µ

> Bessie –∏ –≠–ª—å–∑–∞ –ª—é–±—è—Ç –∏–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É "—É–≥–∞–¥–∞–π –∂–∏–≤–æ—Ç–Ω–æ–µ".
> 
> –°–Ω–∞—á–∞–ª–∞ –ë–µ—Å–∏ –∑–∞–¥—É–º—ã–≤–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ. –ó–∞—Ç–µ–º –≠–ª—å–∑–∞ –∑–∞–¥–∞—ë—Ç —Å–µ—Ä–∏—é –≤–æ–ø—Ä–æ—Å–æ–≤, —á—Ç–æ–±—ã —É–≥–∞–¥–∞—Ç—å, –∫–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –∑–∞–¥—É–º–∞–ª–∞ –ë–µ—Å–∏. –ù–∞ –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –ë–µ—Å–∏ –æ—Ç–≤–µ—á–∞–µ—Ç "–î–∞" –∏–ª–∏ "–ù–µ—Ç". –ù–∞–ø—Ä–∏–º–µ—Ä:
> 
> `–≠–ª—å–∑–∞: "–ñ–∏–≤–æ—Ç–Ω–æ–µ –ª–µ—Ç–∞–µ—Ç?"` 
> `–ë–µ—Å–∏: "–ù–µ—Ç"` 
> `–≠–ª—å–∑–∞: "–ï—Å—Ç —Ç—Ä–∞–≤—É"` 
> `–ë–µ—Å–∏: "–î–∞"` 
> `–≠–ª—å–∑–∞: "–î–∞—ë—Ç –º–æ–ª–æ–∫–æ?"`
> `–ë–µ—Å–∏: "–î–∞"` 
> `–≠–ª—å–∑–∞: "–î–µ–ª–∞–µ—Ç –º—É-—É?"`
> `–ë–µ—Å–∏: "–î–∞"` 
> `–≠–ª—å–∑–∞: "–ö–æ—Ä–æ–≤–∞."` 
> `–ë–µ—Å–∏: "–¢–æ—á–Ω–æ!"`
> 
> –ù–∞–∑–æ–≤—ë–º "–ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω—ã–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º" –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö, —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º –≠–ª—å–∑—ã. –≠–ª—å–∑–∞ –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ–∫–∞ –≤ "–ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ" –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∂–∏–≤–æ—Ç–Ω–æ–µ, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –≠–ª—å–∑–∞ –≤—ã–±–∏—Ä–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ –Ω–µ–π (–¥–∞–∂–µ –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ —Å—É–∑–∏—Ç "–ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ"). –û–Ω–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–± –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–µ –¥–≤–∞–∂–¥—ã.
> 
> –í–∞–º –¥–∞–Ω—ã –≤—Å–µ –∂–∏–≤–æ—Ç–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã—Ö –∑–Ω–∞—é—Ç –ë–µ—Å–∏ –∏ –≠–ª—å–∑–∞ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ "–î–∞", –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≠–ª—å–∑–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω–∞ —É–∑–Ω–∞–µ—Ç –∑–∞–¥—É–º–∞–Ω–Ω–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ.
> 
> #### –§–û–†–ú–ê–¢ –í–í–û–î–ê (—Ñ–∞–π–ª guess.in):
> 
> –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤–≤–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö, $N$ ($2\leq N \leq 100$). –ö–∞–∂–¥–∞—è –∏–∑ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö $N$ —Å—Ç—Ä–æ–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∂–∏–≤–æ—Ç–Ω–æ–µ. –°—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞–∑–≤–∞–Ω–∏—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ, –∑–∞—Ç–µ–º –∏–¥—ë—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ $K$ ($1\leq K \leq 100$), –∏ –∑–∞—Ç–µ–º $K$ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —ç—Ç–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ. –ù–∞–∑–≤–∞–Ω–∏—è –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö —ç—Ç–æ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –º–∞–ª–µ–Ω—å–∫–∏—Ö –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö –±—É–∫–≤ $(a \ldots z)$, –¥–ª–∏–Ω–æ–π –Ω–µ –±–æ–ª–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤. –ù–∏–∫–∞–∫–∏–µ –¥–≤–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö –Ω–µ –∏–º–µ—é—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.
> 
> #### –§–û–†–ú–ê–¢ –í–´–í–û–î–ê (—Ñ–∞–π–ª guess.out):
> 
> –í—ã–≤–µ–¥–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ "–î–∞", –∫–æ—Ç–æ—Ä—ã–µ –≠–ª—å–∑–∞ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–∂–¥–µ —á–µ–º –∏–≥—Ä–∞ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è.
> 
> #### –ü–†–ò–ú–ï–† –í–í–û–î–ê:
> 
> `4`
> `bird 2 flies eatsworms`
> `cow 4 eatsgrass isawesome makesmilk goesmoo`
> `sheep 1 eatsgrass`
> `goat 2 makesmilk eatsgrass`
> 
> #### –ü–†–ò–ú–ï–† –í–´–í–û–î–ê:
> 
> `3`
> 
> –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ë–µ—Å–∏ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ 3 –æ—Ç–≤–µ—Ç–∞ "–î–∞" ‚Äî –æ–Ω–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Ç–µ–∫—Å—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ 3 "–î–∞".

*–ê–≤—Ç–æ—Ä*: Brian Dean

# –•–æ–¥ —Ä–µ—à–µ–Ω–∏–π üß†

–î–ª—è –Ω–∞—á–∞–ª–∞, –Ω–∞–¥–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö (–∫—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ), –Ω–∞–¥–æ —á—Ç–æ–±—ã –¥–ª—è –¥–≤—É—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö —ç—Ç–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.  –¢.–µ. –º–æ–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É, –¥–ª—è –¥–≤—É—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö - –ø–æ–Ω—è—Ç—å —Å–∫–æ–ª—å–∫–æ –¥–ª—è –Ω–∏—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ–ø—Ä–æ—Å–æ–≤ –µ—Å–ª–∏ –±—Ä–∞—Ç—å –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É.  –ü–æ—Ç–æ–º –≤ —Ü–∏–∫–ª–µ –¥–ª—è –∫–∞–∂–¥—ã—Ö 2—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏—Å–∫–∞—Ç—å –≤–æ–ø—Ä–æ—Å–æ–≤, –∏ –≤ –æ—Ç–≤–µ—Ç–µ –≤—ã–≤–æ–¥–∏—Ç—å –º–∞–∫—Å–∏–º—É–º.

–û–∫.  –¢–µ–ø–µ—Ä—å –Ω–∞–¥–æ –Ω–∞—É—á–∏—Ç—å—Å—è –∏—Å–∫–∞—Ç—å –¥–ª—è –¥–≤—É—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤.  –ï—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å, —Ç–æ —Å—Ç–∞–Ω–µ—Ç —è—Å–Ω–æ, —á—Ç–æ –≤–æ–ø—Ä–æ—Å—ã –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –∑–∞–¥–∞–≤–∞—Ç—å –Ω—É–∂–Ω–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–π (—Å–≤–æ–π—Å—Ç–≤–æ), —Å–≤–æ–π—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ, –Ω–æ –Ω–µ —Å–≤–æ–π—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–ª—è –¥—Ä—É–≥–æ–≥–æ, –≤–µ–¥—å —Ç–æ–≥–¥–∞ –º—ã –ø–æ–π–º—ë–º, –∫–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –∑–∞–≥–∞–¥–∞–Ω–æ.  

*–ê —Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–æ —ç—Ç–æ–≥–æ?*

**–°—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –æ–±—â–∏—Ö —Å–≤–æ–π—Å—Ç–≤ —É –Ω–∏—Ö! (—á—Ç–æ –ª–æ–≥–∏—á–Ω–æ).**

–ò –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ —ç—Ç–∏—Ö–Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —Ç–æ –ª–µ–≥–∫–æ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É.

–¢.–µ. –æ—Ç–≤–µ—Ç 

$$\left(\max_{i, j\ \in\ 0 .. N} ( c(i, j) )\right)+1$$ –≥–¥–µ $c(i, j)$ ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—â–∏—Ö —Å–≤–æ–π—Å—Ç–≤.  –ï–¥–∏–Ω–∏—Ü—É –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø–æ—Å–ª–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ —Å—É–∂–∞—é—â–∏—Ö –∫—Ä—É–≥, –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π, –≤—ã—è–≤–∏–≤—à–∏–π –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ

# –ö–æ–¥

```cpp
#include <fstream>
#include <unordered_set>
#include <vector>

using namespace std;

const int maxn = 150;
unordered_set<string> props[maxn];

int count_general_props(int i, int j) {
  int cnt = 0;
  for (auto prop : props[i])
    cnt += props[j].count(prop);
  return cnt;
}

int main() {
  ifstream cin("guess.in");
  ofstream cout("guess.out");

  int n;
  cin >> n;

  for (int ani = 0; ani < n; ani++) {
    string name;
    int nprops;
    cin >> name >> nprops;
    for (int j = 0; j < nprops; j++) {
      string prop;
      cin >> prop;
      props[ani].insert(prop);
    }
  }

  int ans = -1;
  for (int i = 0; i < n; i++)
    for (int j = i + 1; j < n; j++)
      ans = max(ans, count_general_props(i, j));

  cout << (ans + 1);
}
```

