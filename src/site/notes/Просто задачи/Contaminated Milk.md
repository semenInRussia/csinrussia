---
{"dg-publish":true,"permalink":"/prosto-zadachi/contaminated-milk/"}
---

Задачка с [[Сайты/usaco.guide\|usaco.guide]] #задача 

https://usaco.org/index.php?page=viewproblem2&cpid=569

# Условие

> Фермер Джон, известный качеством молока, производимого на его ферме, проводит молочную вечеринку для $N$ своих лучших друзей ($1 \leq N \leq 50$). Из $M$ сортов молока, подготовленных к вечеринке , ($1 \leq M \leq 50$) ровно один испортился, но ФД не знает какой. Тому, кто его выпьет, станет плохо.
>
> Вам дали протокол вечеринки - кто что и когда пил, а также кому стало плохо. Основываясь на этой информации, Вы должны определить какие сорта молока возможно плохие.
>
> ## INPUT FORMAT (file badmilk.in):
> Первая строка ввода содержит числа $N$, $M$, $D$, $S$.
>
> Каждая из следующих $D$
> строк ($1 \leq D \leq 1000$) содержит три целых числа $p$, $m$, $t$, указывающих, что персона $p$ выпила сорт молока m в момент времени $t$. Значение $p$ находится в интервале $1\ldots N$, m в интервале $1\ldots M$, и $t$ в интервале $1\ldots 100$. Каждый человек может пить один и тот же сорт молока несколько раз, и может пить несколько сортов молока в один и тот же момент времени.
>
> Каждая из следующих $S$
> строк ($1 \leq S \leq N$) содержит два целых числа $p$, $t$, указывающих, что персона $p$ заболела в момент времени $t$. Значение $p$ в интервале $1\ldots N$, а значение $t$ в интервале $1\ldots 100$. Каждый человек заболеет не более одного раза, как следствие того, что он выпил плохое молоко в какой-то строго более ранний момент времени.
>
> ## Формат вывода (файл badmilk.out):
> Одно целое число, указывающее минимальное количество доз лекарств, которое потребуется фермеру Джону, чтобы вылечить всех людей, которым станет плохо во время или после вечеринки.
>
> ## Пример ввода:
>
> `3 4 7 2`
> `1 1 1`
> `1 4 1`
> `1 3 4`
> `1 2 2`
> `3 1 3`
> `2 1 5`
> `2 2 7`
> `1 3`
> `2 8`
>
> ## Пример вывода:
>
> `3`
>
> Всего имеется 3 человека и 4 вида молока. Человек 1 заболеет В момент времени 3, а человек 2 заболеет в момент времени 8. and person 2 gets sick at time 8. Персоны 3 и 4 не заболеют во время вечерники, однако мы должны иметь ввиду, что они могут заболеть после вечеринки. Мы должны считать, что сорт молока потенциально плохой, если каждый, кто заболел, перед этим попробовал этот сорт молока.
>
> Молоко 1: Оба заболевших (1 и 2) пили это молоко, прежде, чем заболели поэтому это молоко должно рассматриваться как потенциально плохое. А раз так, то персона 3 также выпивший его может заболеть после вечеринки.
>
> Молоко 2: Оба заболевших пили перед этим данное молоко. Поэтому оно тоже потенциально плохое. Больше никто не пил это молоко, поэтому в худшем случае 2 человека заболели, если это молоко плохое.
>
> Молоко 3: Это молоко не может быть плохим, поскольку человек 1 его не пил до того как заболеть. Человек 1 выпил этот молоко в момент времени 4, а заболел в момент времени 3. Подозревать молоко 1 можно было бы, только если бы человек 1 выпил его в момент времени 2 или раньше.
>
> Молоко 4: Оно не может быть плохим, поскольку человек 2 не пил его вообще, но заболел.
>
> Поэтому ответ таков: ФД должен приобрести 3 дозы лекарства, поскольку если молоко 1 плохое, то 3 человека заболеют.

Авторы: Austin Anderson и Brian Dean


# Размышление

Необходимо найти какие сорта молока могут бытьиспорченными.  Можно для каждого отправившегося хранить сорты молока, которые он выпил до того, как так заболеть.  И из этих сортов, найти те, которые были есть в каждом списке.  Искать такие сорты можно довольно быстро, если использовать пересечение множеств (хеш-множеств [[Структуры Данных/Хеш-таблица\|Хеш-сет]]).