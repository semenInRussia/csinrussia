---
{"dg-publish":true,"permalink":"/struktury-dannyh/razryazhennaya-tablicza/"}
---

Эта [[Структуры Данных/Запросная Структура\|запросная структура]], чтобы делать запросы за `O(1)` и строиться за `O(n log n)`


> [!warning] Запросы
> Запросы должны быть на функции, которые могут накладываться и не менять ответ, например `min`, но не `+`

# Описание 📝

Сделаем массив `s` из `n` строчек и `n` столбцев. 

Где `s[k][i]` — результат запроса на интервале от `i` до правой границы, чтоб интервал был длины `k-1` степени двойки, но для `k=0`, длина 0

Если правая граница за массивом, то не считаем

Вот C++ формула:

> `s[0][i] = a[i]`
> `s[k+1][i] = f(s[k][i], s[k][i + (1 << k)])`

В принципе её несложно вывести самим, Я только что это сделал

# Ссылки 🧠

- https://ru.algorithmica.org/cs/range-queries/sparse-table/