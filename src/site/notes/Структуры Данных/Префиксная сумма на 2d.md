---
{"dg-publish":true,"permalink":"/struktury-dannyh/prefiksnaya-summa-na-2d/"}
---

Для начала, на 2d работать СУПЕР сложнее чем в обычной [[Структуры Данных/Префиксная сумма\|Префиксная сумма]].

Нужно всегда иметь рисунок.

Хранить префиксную сумму будем в массиве $b_{ij}$ — сумма прямоугольника от левого правого до точки $(i, j)$.  Советуем сделать рисунок

<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="Префиксная_сумма_на_2d_2024-04-04_1126.48.excalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.26","elements":[{"type":"rectangle","version":418,"versionNonce":1505404583,"isDeleted":false,"id":"nFeEa5GhMsathtWSoXiKZ","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-109.04626491152007,"y":-190.47126822636045,"strokeColor":"#1e1e1e","backgroundColor":"transparent","width":170.89972199262237,"height":136.52728514193444,"seed":1407621750,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360899293,"link":null,"locked":false},{"type":"rectangle","version":210,"versionNonce":1701853767,"isDeleted":false,"id":"Io2RqP5pZUzFevrub1PoH","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-101.52292029289865,"y":-182.6093160689735,"strokeColor":"#1971c2","backgroundColor":"transparent","width":62.84910364707644,"height":90.5599411150365,"seed":669817078,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712362836957,"link":null,"locked":false},{"type":"rectangle","version":195,"versionNonce":970822791,"isDeleted":false,"id":"DF-J-0QFCq-QYzmu6rjmT","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-100.50928765021496,"y":-180.1887491052228,"strokeColor":"#f08c00","backgroundColor":"transparent","width":77.682970680241,"height":64.6892525716332,"seed":1878863478,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712362841476,"link":null,"locked":false},{"type":"rectangle","version":242,"versionNonce":841816329,"isDeleted":false,"id":"YxyVLkB8cVRgWSLSKZdHE","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-96.93919699130515,"y":-177.18450459111193,"strokeColor":"#e03131","backgroundColor":"transparent","width":53.766171755031756,"height":58.87576730081998,"seed":1617893034,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712362875623,"link":null,"locked":false},{"type":"line","version":37,"versionNonce":142339975,"isDeleted":false,"id":"Sb9imeyldRCak1yVOhYof","fillStyle":"solid","strokeWidth":4,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-77.79635990372107,"y":-149.9411930668783,"strokeColor":"#e03131","backgroundColor":"transparent","width":15.808780729466612,"height":0.23248915129840952,"seed":261284970,"groupIds":[],"frameId":null,"roundness":{"type":2},"boundElements":[],"updated":1712362855690,"link":null,"locked":false,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[15.808780729466612,0.23248915129840952]]},{"type":"freedraw","version":22,"versionNonce":673589223,"isDeleted":false,"id":"JdMC2txl3qWGY5OH8BJMR","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-28.338423415224852,"y":-100.50825694249596,"strokeColor":"#2f9e44","backgroundColor":"transparent","width":0.0001,"height":0.0001,"seed":1459221430,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360805454,"link":null,"locked":false,"points":[[0,0],[0.0001,0.0001]],"lastCommittedPoint":null,"simulatePressure":false,"pressures":[1,0]},{"type":"rectangle","version":244,"versionNonce":1153751017,"isDeleted":false,"id":"HM5bQibzRGDLqYd6VN1K6","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-104.61769828399494,"y":-186.2222972114528,"strokeColor":"#2f9e44","backgroundColor":"transparent","width":85.29067831132755,"height":97.57752705180084,"seed":1496446390,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712362832994,"link":null,"locked":false},{"type":"freedraw","version":17,"versionNonce":1877703783,"isDeleted":false,"id":"0wh3HRnudjhKh7bZBuCjC","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-28.97532143837576,"y":-118.34809703475412,"strokeColor":"#f08c00","backgroundColor":"transparent","width":0.23177692443553255,"height":0,"seed":2003627273,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360805454,"link":null,"locked":false,"points":[[0,0],[-0.08102608073852835,0],[-0.23177692443553255,0],[-0.23177692443553255,0]],"lastCommittedPoint":null,"simulatePressure":false,"pressures":[1,1,1,0]},{"type":"freedraw","version":3,"versionNonce":933263271,"isDeleted":false,"id":"vIDf8RAyWXSuy3JQFOCGx","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-28.911980354687863,"y":-111.8310022162066,"strokeColor":"#f08c00","backgroundColor":"transparent","width":0.0001,"height":0.0001,"seed":1391806601,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360809020,"link":null,"locked":false,"points":[[0,0],[0.0001,0.0001]],"lastCommittedPoint":null,"simulatePressure":false,"pressures":[1,0]},{"type":"freedraw","version":3,"versionNonce":1661032233,"isDeleted":false,"id":"NGAGVOsT2ExUCopYtHsNG","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-35.35872748123929,"y":-101.61002426511452,"strokeColor":"#1971c2","backgroundColor":"transparent","width":0.0001,"height":0.0001,"seed":1936247207,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360820843,"link":null,"locked":false,"points":[[0,0],[0.0001,0.0001]],"lastCommittedPoint":null,"simulatePressure":false,"pressures":[1,0]},{"type":"freedraw","version":3,"versionNonce":450027847,"isDeleted":false,"id":"P34FNHAhZtH7S2os6Hm6r","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-35.46321579618785,"y":-111.69306654141221,"strokeColor":"#e03131","backgroundColor":"transparent","width":0.0001,"height":0.0001,"seed":445800681,"groupIds":[],"frameId":null,"roundness":null,"boundElements":[],"updated":1712360824886,"link":null,"locked":false,"points":[[0,0],[0.0001,0.0001]],"lastCommittedPoint":null,"simulatePressure":false,"pressures":[1,0]},{"id":"LwLCtrIU","type":"text","x":-76.66615906786103,"y":-120.97220984536031,"width":18.86724853515625,"height":37.7491674955144,"angle":0,"strokeColor":"#1971c2","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"roundness":null,"seed":1985891727,"version":35,"versionNonce":1916717569,"isDeleted":false,"boundElements":null,"updated":1712401671855,"link":null,"locked":false,"text":"+","rawText":"+","fontSize":30.19933399641152,"fontFamily":1,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"+","lineHeight":1.25},{"id":"jZSktDrP","type":"text","x":-41.40299715765338,"y":-167.05905323557414,"width":18.86724853515625,"height":37.7491674955144,"angle":0,"strokeColor":"#f08c00","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"frameId":null,"roundness":null,"seed":848849071,"version":71,"versionNonce":899636591,"isDeleted":false,"boundElements":null,"updated":1712401679817,"link":null,"locked":false,"text":"+","rawText":"+","fontSize":30.19933399641152,"fontFamily":1,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"+","lineHeight":1.25}],"appState":{"theme":"light","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#f08c00","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","scrollX":117.80693023099836,"scrollY":302.7339414448669,"zoom":{"value":1.9000000000000001},"currentItemRoundness":"sharp","gridSize":null,"gridColor":{"Bold":"#C9C9C9FF","Regular":"#EDEDEDFF"},"currentStrokeOptions":null,"previousGridSize":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Префиксная_сумма_на_2d_2024-04-04_1126.48.excalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

Вот там рисунок, надо понять из чего состоит сумма всех элементов (зелёный массив).  Ну вот формула, советую смотреть на рисунок:

$$b[i][j] = b[i-1][j] + b[i][j-1] + a[i][j]$$

# а также... 🧠
- [[Структуры Данных/Префиксное гавно\|Префиксное гавно]]
- [[Структуры Данных/Суффиксное гавно\|Суффиксное гавно]]
- [[Структуры Данных/Префиксная сумма\|Префиксная сумма]]